function smartLimit(){return function(e,a){if(angular.isString(e)){if(e.length<=a)return e;for(var i=e.split(" "),t=i[0],o=1;o<i.length;o++){var r=t.concat(" ",i[o]);if(r.length>a)break;t=r}return t}}}nucleomediaApi.filter("smartLimit",smartLimit).controller("feedCtrl",["$scope","nucleomediaRequest",function(e,a){function i(e){var a=[];e.lista.item instanceof Array?a=e.lista.item:a.push(e.lista.item),o.feeds=[];for(var i,r=a.length-1;r>=0;r--){var n=a[r];NormalizaJson(n),n=t(n),o.feeds.push(n)}i=o.feeds instanceof Array?feedConfig.isAleatorio?CarregaAleatoriamente(o.feeds):CarregaSequencialmente(o.feeds,"feed"):o.feeds,o.feed=i,console.log("Feed:"+o.feed),console.log("Feeds: "+o.feeds)}function t(e){if(e.chaFlash=relativeLinkToAbsolute(e.chaFlash),e.chaVideo=relativeLinkToAbsolute(e.chaVideo),e.chaLogoFeed=relativeLinkToAbsolute(e.chaLogoFeed),e.chaImagens.imagem)if(e.chaImagens.imagem instanceof Array)for(var a=0;a<e.chaImagens.imagem.length;a++)e.chaImagens.imagem[a]=relativeLinkToAbsolute(e.chaImagens.imagem[a]);else e.chaImagens.imagem=relativeLinkToAbsolute(e.chaImagens.imagem);return e}var o=e.$root;o.carregarFeed=function(){var e="http://localhost:8080/getNoticias?0&"+codigo+"&cachebuster="+RandomNumber();feedConfig.isDeveloper&&(e="content/feedoffline.xml?&cachebuster="+RandomNumber()),a.get(e,i)},o.carregarFeed()}]);