function smartLimit(){return function(e,a){if(angular.isString(e)){if(e.length<=a)return e;for(var i=e.split(" "),t=i[0],r=1;r<i.length;r++){var n=t.concat(" ",i[r]);if(n.length>a)break;t=n}return t}}}nucleomediaApi.filter("smartLimit",smartLimit).controller("feedCtrl",["$scope","nucleomediaRequest",function(e,a){function i(e){var a=[];e.lista.item instanceof Array?a=e.lista.item:a.push(e.lista.item),r.feeds=[];for(var i,n=a.length-1;n>=0;n--){var o=a[n];NormalizaJson(o),o=t(o),r.feeds.push(o)}i=r.feeds instanceof Array?feedConfig.isAleatorio?CarregaAleatoriamente(r.feeds):CarregaSequencialmente(r.feeds,"feed"):r.feeds,r.feed=i,console.log("Feed:"+r.feed),console.log("Feeds: "+r.feeds)}function t(e){if(e.chaFlash=relativeLinkToAbsolute(e.chaFlash),e.chaVideo=relativeLinkToAbsolute(e.chaVideo),e.chaImagens.imagem)if(e.chaImagens.imagem instanceof Array)for(var a=0;a<e.chaImagens.imagem.length;a++)e.chaImagens.imagem[a]=relativeLinkToAbsolute(e.chaImagens.imagem[a]);else e.chaImagens.imagem=relativeLinkToAbsolute(e.chaImagens.imagem);return e}var r=e.$root;r.carregarFeed=function(){var e="http://localhost:8080/getNoticias?0&"+codigo+"&cachebuster="+RandomNumber();feedConfig.isDeveloper&&(e="content/feedoffline.xml?&cachebuster="+RandomNumber()),a.get(e,i)},r.carregarFeed()}]);